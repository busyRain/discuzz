(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40972028"],{"236a":function(t,e,i){"use strict";var a=i("d508"),n=i.n(a);n.a},"260c":function(t,e,i){"use strict";var a=i("b4ed"),n=i.n(a);n.a},"590e":function(t,e,i){"use strict";var a=i("d36d"),n=i.n(a);n.a},7415:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("el-breadcrumb",{staticClass:"postnav",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[i("i",{staticClass:"el-icon-map-location"}),t._v("\n      首页\n    ")]),2==t.navList.length?i("span",[i("el-breadcrumb-item",{attrs:{to:{path:t.navList[0].url}}},[t._v(t._s(t.navList[0].name))]),i("el-breadcrumb-item",{attrs:{to:{path:t.navList[1].url}}},[t._v(t._s(t.navList[1].name))])],1):i("span",[i("el-breadcrumb-item",{attrs:{to:{path:t.navList[0].url}}},[t._v(t._s(t.navList[0].name))])],1)],1),i("keep-alive",[i("content-list")],1)],1)},n=[],s=(i("96cf"),i("3b8d")),r=i("24a3"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content board-box"},[a("div",{staticClass:"ov commit"},[a("div",{ref:"detailLeft",staticClass:"detailLeft fl"},[a("div",{staticClass:"detailLeft_top"},[a("span",[t._v("查看："),a("span",{staticClass:"highlight-color"},[t._v(t._s(t.detail.viewcount))])]),a("span",{staticClass:"pipe"},[t._v("|")]),a("span",[t._v("回复："),a("span",{staticClass:"highlight-color"},[t._v(t._s(t.detail.replycount))])])]),a("div",{staticClass:"detailLeft_content"},[a("h3",{staticClass:"author"},[t._v(t._s(t.detail.nickName))]),a("div",{staticClass:"avatar"},[a("a",{attrs:{href:"javascript:;"}},[a("el-image",{staticStyle:{width:"130px",height:"130px"},attrs:{src:t.$IMG_URL+t.detail.userImgUrl,fit:"contain"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]),a("ul",{staticClass:"otherinfo"},[a("li",[a("label",{staticClass:"fl"},[t._v("组别")]),a("span",{staticClass:"admin"},[t._v(t._s(t.detail.vip?"管理员":"游客"))])]),a("li",[a("label",{staticClass:"fl"},[t._v("Vip等级")]),a("span",[t._v(t._s(t.detail.vipLvl))])]),a("li",[a("label",{staticClass:"fl"},[t._v("用户积分")]),a("span",[t._v(t._s(t.detail.userPoints))])]),a("li",[a("label",{staticClass:"fl"},[t._v("用户等级")]),a("span",[t._v(t._s(t.detail.userLvl))])])])])]),a("div",{staticClass:"detailRight fr"},[a("div",{staticClass:"detailRight_info"},[a("div",{staticClass:"detailRight_info_title"},[t._v(t._s(t.detail.title))]),a("div",{ref:"detailRight_info_content",staticClass:"detailRight_info_content ov"},[a("div",{staticClass:"pi"},[a("img",{staticClass:"authincn vm",attrs:{src:i("983b")}}),a("em",[t._v("楼主 | 发表于 "),a("span",{staticClass:"highlight-color"},[t._v(t._s(t._f("dateTime")(t.detail.ctime)))])]),a("strong",[t._v("楼主")])]),a("div",{staticClass:"contentDetail"},[a("p",{ref:"contentDetail",domProps:{innerHTML:t._s(t.detail.content)}})])])]),a("div",{staticClass:"detailRight_site"},[a("a",{staticClass:"replayBtn",on:{click:function(e){return t.addReplay(t.detail.id)}}},[t._v("回复")]),a("p",{staticClass:"fr"})])])]),t._l(t.replyList,function(e,n){return a("div",{key:n.id,staticClass:"ov commit replay"},[a("div",{staticClass:"detailLeft fl"},[a("div",{staticClass:"detailLeft_content"},[a("h3",{staticClass:"author"},[t._v(t._s(e.nickname))]),a("div",{staticClass:"avatar"},[a("a",{attrs:{href:""}},[a("el-image",{staticStyle:{width:"130px",height:"130px"},attrs:{src:t.$IMG_URL+e.userImgUrl,fit:"contain"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1)]),a("ul",{staticClass:"otherinfo"},[a("li",[a("label",{staticClass:"fl"},[t._v("组别")]),a("span",{staticClass:"admin"},[t._v(t._s(e.vip?"管理员":"游客"))])]),a("li",[a("label",{staticClass:"fl"},[t._v("Vip等级")]),a("span",[t._v(t._s(e.vipLvl))])]),a("li",[a("label",{staticClass:"fl"},[t._v("用户积分")]),a("span",[t._v(t._s(e.userPoints))])]),a("li",[a("label",{staticClass:"fl"},[t._v("用户等级")]),a("span",[t._v(t._s(e.userLvl))])])])])]),a("div",{staticClass:"detailRight fr"},[a("div",{staticClass:"detailRight_info"},[a("div",{staticClass:"detailRight_info_content"},[a("div",{staticClass:"pi"},[a("img",{staticClass:"authincn vm",attrs:{src:i("983b")}}),a("em",[t._v(t._s(e.nickname)+" | 发表于 "),a("span",{staticClass:"highlight-color"},[t._v(t._s(t._f("dateTime")(e.ctime)))])]),a("strong",[t._v(t._s(n+2)+"楼")])]),a("div",{staticClass:"contentDetail"},[null!=e.replyModel?a("div",{staticClass:"quote"},[a("blockquote",[t._v("\r\n                               "+t._s(e.replyModel.nickname)+" 表示于 "+t._s(t._f("dateTime")(t.detail.ctime))+"\r\n                                "),a("strong",[t._v("楼层"+t._s(e.buildingno))]),a("br"),a("p",{domProps:{innerHTML:t._s(e.content)}})]),a("p",{staticClass:"replyContent",domProps:{innerHTML:t._s(e.replyModel.content)}})]):a("p",{domProps:{innerHTML:t._s(e.content)}})])])]),a("div",{staticClass:"detailRight_site"},[a("a",{staticClass:"replayBtn",on:{click:function(i){return t.addReplayIndex(t.detail.id,e.cid,e.nickname,e.id,n+2,e.content,e.ctime)}}},[t._v("回复")]),t.loginStatus?a("p",{staticClass:"fr"},[a("i",{staticClass:"el-icon-delete",on:{click:function(i){return t.delDis(e.id)}}},[t._v("删除")])]):t._e()])])])})],2),a("div",{staticClass:"page"},[a("editortwo",{ref:"ue",attrs:{defaultMsg:t.defaultMsg,config:t.config}}),a("el-row",{staticClass:"page",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"add",attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.reply(t.detail.id)}}},[t._v("发表回复")])],1),a("el-col",{attrs:{span:16}},[a("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper","page-size":10,total:t.count},on:{"current-change":t.handleCurrentChange}})],1)],1)],1),a("show-reply",{attrs:{replyDialog:t.replyDialog,topicid:t.topicid,replyContent:t.replyContent,noShow:t.noShow},on:{cancel:t.cancel,getNewList:t.getNewList}})],1)},l=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("script",{attrs:{id:"editorTwo",type:"text/plain"}})},d=[],u=(i("8068"),i("4dda"),i("b7c8"),{name:"UETwo",data:function(){return{editor:null}},props:{defaultMsg:{type:String},config:{type:Object}},mounted:function(){this.initEditor()},watch:{defaultMsg:function(t,e){this.editor.setContent(t)}},methods:{initEditor:function(){var t=this;this.$nextTick(function(){var e=t;t.editor=UE.getEditor("editorTwo",t.config),t.editor.addListener("ready",function(){e.editor.setHeight(300),e.$emit("ready",e.editor)})})},getUEContent:function(){return this.editor.getContent()}},destroyed:function(){this.editor.destroy()}}),p=u,h=i("2877"),A=Object(h["a"])(p,c,d,!1,null,null,null),f=A.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.replyDialog,title:"回复贴子",center:"","before-close":t.cancel}},[i("div",{staticClass:"editor-container"},[t.noShow?i("div",{staticClass:"reply"},[i("div",{staticClass:"replyname"},[i("em",[t._v(t._s(t.replyContent.replyusername))]),i("em",[t._v("发表于:")]),t._v("\n                    "+t._s(t._f("dateTime")(t.replyContent.ctime))+"\n\n                    ")]),i("p",{staticClass:"content",domProps:{innerHTML:t._s(t.replyContent.content)}})]):t._e(),i("ueditor",{ref:"ueditor",attrs:{defaultMsg:t.defaultMsg,config:t.config}}),i("el-button",{staticClass:"add",attrs:{type:"primary",size:"medium"},on:{click:t.replay}},[t._v("发表回复")])],1)])],1)},v=[],m=i("b676"),y={name:"replay",props:["replyDialog","topicid","replyContent","noShow"],components:{ueditor:m["a"]},data:function(){return{defaultMsg:"",config:{toolbars:[["undo","redo","removeformat","formatmatch","|","paragraph","fontsize","|","bold","italic","underline","|","insertorderedlist","insertunorderedlist","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","simpleupload","horizontal","|"]],insertorderedlist:{decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圓圈",disc:"● 小黑點",square:"■ 小方塊 ",dash:"— 破折號"},paragraph:{h2:"标题 1",h3:"标题 2",h4:"标题 3"},fontsize:[14,16,18,20,24]},data:{}}},methods:{cancel:function(){this.$emit("cancel",!1)},replay:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$refs.ueditor.getUEContent(),this.noShow?this.data={topicid:this.replyContent.topicid,content:e,replyuserid:this.replyContent.replyuserid,replyusername:this.replyContent.replyusername,replyid:this.replyContent.replyid,buildingno:this.replyContent.buildingno}:this.data={topicid:this.topicid,content:e},t.next=4,r["b"](this.data).then(function(t){0==t.code&&i.$emit("getNewList")});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},C=y,_=(i("236a"),Object(h["a"])(C,g,v,!1,null,"11edd7e9",null)),w=_.exports,R={name:"detail",data:function(){return{detail:[],defaultMsg:"",replyList:[],wrapperHeight:"",count:0,page:1,replyDialog:!1,topicid:"",loginStatus:!1,noShow:!1,replyContent:{},config:{toolbars:[["undo","redo","removeformat","formatmatch","|","paragraph","fontsize","|","bold","italic","underline","|","insertorderedlist","insertunorderedlist","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","simpleupload","horizontal","|"]],insertorderedlist:{decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圓圈",disc:"● 小黑點",square:"■ 小方塊 ",dash:"— 破折號"},paragraph:{h2:"标题 1",h3:"标题 2",h4:"标题 3"},fontsize:[14,16,18,20,24]}}},components:{showReply:w,editortwo:f},methods:{getNewList:function(){this.replyDialog=!1,console.log(this.$route.params.id),this.getDetailReply(this.$route.params.id)},cancel:function(t){this.replyDialog=t},reply:function(t){if(this.loginStatus){var e={topicid:t,content:this.$refs.ue.getUEContent()};this.commonReply(e)}else this.$router.push({path:"/login"})},commonReply:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["b"](e).then(function(t){console.log(t),0==t.code&&(i.defaultMsg="",i.getDetailReply(i.$route.params.id))});case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),goBack:function(){window.history.back(-1)},handleCurrentChange:function(t){this.page=t,this.getDetailReply(this.$route.params.id)},delDis:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("确定要删除该楼层的回复么？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r["c"]({id:e}).then(function(t){0==t.code&&(i.$message({type:"success",message:"删除成功!"}),i.getDetailReply(i.$route.params.id))})}).catch(function(){i.$message({type:"info",message:"已取消删除"})});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),addReplay:function(t){this.loginStatus?(this.noShow=!1,this.topicid=t,this.replyDialog=!0):this.$router.push({path:"/login"})},addReplayIndex:function(t,e,i,a,n,s,r){this.replyContent={topicid:t,replyuserid:e,replyusername:i,replyid:a,buildingno:n,content:s,ctime:r},this.loginStatus?(this.replyDialog=!0,this.noShow=!0):this.$router.push({path:"/login"})},getDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["d"](e).then(function(t){var e=t.data;0==t.code&&(i.detail=e)});case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getDetailReply:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["e"]({topicid:e,page:this.page}).then(function(t){var e=t.data;console.log(t),0==t.code&&(i.replyList=e,i.count=t.count)});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=this.$getCookie("uInfo"),e=JSON.parse(t);e&&e.token?this.loginStatus=!0:this.loginStatus=!1}},mounted:function(){var t=this;this.$nextTick(function(){t.wrapperHeight=t.$refs.detailLeft.clientHeight})},created:function(){this.init(),this.getDetail(this.$route.params.id),this.getDetailReply(this.$route.params.id)}},b=R,L=(i("590e"),Object(h["a"])(b,o,l,!1,null,"4a518892",null)),k=L.exports,x={name:"detail",components:{contentList:k},data:function(){return{navList:[],detail:{}}},methods:{sitDiscuzz:function(){},getDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["d"](e).then(function(t){var e=t.data;0==t.code&&(i.detail=e,i.navList.push({url:i.$route.path,name:i.detail.title}))});case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},created:function(){sessionStorage.getItem("navList")&&(this.navList=JSON.parse(sessionStorage.getItem("navList"))),this.getDetail(this.$route.params.id)}},M=x,T=(i("260c"),Object(h["a"])(M,a,n,!1,null,"660dcabd",null));e["default"]=T.exports},"983b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAZCAMAAADpC5XfAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAb9QTFRF/5sA/50A/3cA/4gA/4EA/64A/4sA/4YA/5AA/4MA/7UA/6wA/7wA/44A+6xl/3gA/65GRBEA/9qT/+Gk/60APREA/9yZ+rNz/5Qk/7RQJw8A+cic+65o/8Vr+cid/9OE/6E1/5os/9aM/8pzQxEA/6g9/ZU4KRIA/3oE/4EP/4cV/7pYKw4ALRIA/7MA/3YAJREA/40c/3UA/3sJ/898/9+fShgA/70A/8BiPhUAMA4A/7EANAwAPBgAQA4AORYAOQ8ALw8A/78ASg0AUAoAOxAANhEARRYARRIATRgASRkARAsAQxgAMQ8ASRIAOg0AUxMAQxIAPRIAVBEATBYALgsAVBIAURMARBAALBIAShkA/7cAUxAAPxEARBgATgsALQsAQA0AVhIATQwAPhQAOhgARBYALRMANBEARQ4ATgwAOA8AVhcARRMALBAAKw8APBEA+cGONQ0AOBYANw4AUBoAShcAUBQANwwA/68A/8AAPQsATwsAQBEASQ8ATA0AQg4AMBEAQRMASQwALxAAVxEAPA8A/6AA/5MA/5gA/5YA/6IA/3oA/6kA/6UA/3wA/6cA/34A/+Ko/3kA////yCXP9AAAAJV0Uk5T/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA2ZBs4AAABT0lEQVR42mTRZVcCQRiGYXR1A10WUJBuECSkwe7u7u7u7gTFHn6w7+56jucs94eZZ66vI5KgzCQi9JMZAn0XxmrBl7AC0MiHsAioMsXlL/Z6+ZVSgsoTbP4VT1dVDTcTclBLFluxp7l/avqc2xZQo4htbEnRehSt57YRNPzCddA5Ho3FuBkGtb7y5UP8soLqk8mkZvsOzuTG4T576UHjJKl5nC1bbKpdblG0P5MkGQd10/TOUE/13MVWn1g82jZB025QNY7XVd5eNzyciMU4fuzDcTWoFMNWT9du1mfmfRiGySowTApqJ4jy+46Fy8anXoK4sp0RhB3URFHUbvfI8MDk5qDMVlhIUSZQcw6Uy5UHwcMMqvoWpgINfAoLgJa88cEv/q0SUFc2xCCddk+rQwz7cIGGgqUMKkrzFSGmNBhCIokTOQzp/wwO5JT8CjAAojTCdojZuDEAAAAASUVORK5CYII="},b4ed:function(t,e,i){},d36d:function(t,e,i){},d508:function(t,e,i){}}]);