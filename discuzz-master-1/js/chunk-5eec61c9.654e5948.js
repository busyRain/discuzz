(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5eec61c9"],{"14b7":function(t,e,s){"use strict";var i=s("6395"),n=s.n(i);n.a},2548:function(t,e,s){},"268f":function(t,e,s){t.exports=s("fde4")},"32a6":function(t,e,s){var i=s("241e"),n=s("c3a1");s("ce7e")("keys",function(){return function(t){return n(i(t))}})},"3e4a":function(t,e,s){"use strict";var i=s("5275"),n=s.n(i);n.a},"454f":function(t,e,s){s("46a7");var i=s("584a").Object;t.exports=function(t,e,s){return i.defineProperty(t,e,s)}},"46a7":function(t,e,s){var i=s("63b6");i(i.S+i.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},5275:function(t,e,s){},6395:function(t,e,s){},"6a0f":function(t,e,s){"use strict";var i=s("2548"),n=s.n(i);n.a},"85f2":function(t,e,s){t.exports=s("454f")},"8aae":function(t,e,s){s("32a6"),t.exports=s("584a").Object.keys},a4bb:function(t,e,s){t.exports=s("8aae")},bda7:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"top"},[s("display-block")],1),s("div")])},n=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"board-box"},[s("div",{staticClass:"board-bg"}),s("div",{staticClass:"team-desc clearfix"},[s("div",{staticClass:"desc-left fl"},[s("div",{staticClass:"circle-img fl"},[s("img",{staticClass:"board-icon",attrs:{src:t.$IMG_URL+t.blockTop.imgurl}}),s("el-popover",{attrs:{placement:"right",trigger:"hover"}},[s("ul",{staticClass:"sectionList"},t._l(t.section,function(e,i){return s("li",{key:i,staticClass:"listLi"},[s("label",{staticClass:"fl"},[t._v(t._s(e.name))]),e.childList.length>0?s("div",{staticClass:"childUL"},t._l(e.childList,function(e,i){return s("router-link",{key:i,attrs:{to:{path:"/disList/"+e.id},tag:"a",target:"_blank"}},[t._v(t._s(e.name))])}),1):t._e()])}),0),s("el-button",{staticClass:"join-circle",attrs:{slot:"reference",size:"medium",round:""},slot:"reference"},[t._v("版块切换")])],1)],1),s("div",{staticClass:"circle-name fl"},[s("div",{staticClass:"club-name"},[t._v(t._s(t.blockTop.name))]),s("div",{staticClass:"club-desc"},[t._v(t._s(t.blockTop.synopsis))]),s("div",{staticClass:"club-desc-line"}),s("div",{staticClass:"club-fan"},[s("p",{staticClass:"fan-numb"},[s("span",{staticClass:"fan-text"},[t._v("贴数")]),s("b",[t._v(t._s(t.blockTop.topiccount))])]),s("p",{staticClass:"fan-numb"},[s("span",{staticClass:"fan-text"},[t._v("今日")]),s("b",[t._v(t._s(t.blockTop.todayTopiccount))])])])])]),s("div",{staticClass:"desc-right fr"},[s("el-button",{staticClass:"send-post",attrs:{round:"",size:"medium"},on:{click:t.openDialog}},[t._v("发新贴")])],1)]),s("div",{staticClass:"classify-list ",staticStyle:{"margin-left":"20px"}},[s("div",{staticClass:"classify-item"},[s("span",{staticClass:"classify-title"},[t._v("看贴：")]),s("div",{staticClass:"classify-list-out"},[s("ul",{staticClass:"classify-ul"},[s("li",{class:["classify-li",0==t.isessence?"on":""],on:{click:function(e){return t.toggleTab(!1)}}},[s("a",{staticClass:"classify-letter",attrs:{href:"javascript:;"}},[t._v("普通贴")])]),s("li",{class:["classify-li",1==t.isessence?"on":""],on:{click:function(e){return t.toggleTab(!0)}}},[s("a",{staticClass:"classify-letter",attrs:{href:"javascript:;"}},[t._v("精华贴")])])])])]),s("div",{staticClass:"classify-item"},[s("span",{staticClass:"classify-title"},[t._v("排序：")]),s("div",{staticClass:"classify-list-out"},[s("ul",{staticClass:"classify-ul"},[s("li",{class:["classify-li",4==t.orderbytype?"on":""],on:{click:function(e){return t.toggleSort(4)}}},[s("a",{staticClass:"classify-letter",attrs:{href:"javascript:;"}},[t._v("回复时间")])]),s("li",{class:["classify-li",3==t.orderbytype?"on":""],on:{click:function(e){return t.toggleSort(3)}}},[s("a",{staticClass:"classify-letter",attrs:{href:"javascript:;"}},[t._v("发布时间")])]),s("li",{class:["classify-li",1==t.orderbytype?"on":""],on:{click:function(e){return t.toggleSort(1)}}},[s("a",{staticClass:"classify-letter",attrs:{href:"javascript:;"}},[t._v("浏览次数")])])])])])])]),s("block-list",{attrs:{list:t.blockList,count:t.count,sectionid:t.blockTop.id},on:{getPage:t.getPage}})],1)},r=[],c=(s("7f7f"),s("96cf"),s("3b8d")),o=s("cebc"),l=s("62e4"),u=s("3191"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"boardBox",staticClass:"board-box"},[s("div",{staticClass:"main"},[s("ul",{staticClass:"post-list"},t._l(t.list,function(e,i){return s("li",{key:i},[s("div",{staticClass:"post-title cleardis"},[s("router-link",{attrs:{to:{path:"/disDetail/"+e.id,query:{sectionid:t.sectionid}},tag:"a",target:"_blank"}},[t._v(t._s(e.title))]),e.isrecommend?s("span",{staticClass:"uscat_pt"},[t._v("\n            置顶\n          ")]):t._e(),e.isessence?s("span",{staticClass:"uscat_pt"},[t._v("\n            精\n          ")]):t._e()],1),s("div",{staticClass:"info2 cleardis"},[s("span",{staticClass:"fr"},[t._v("\n            发布于 \n            "),s("i",{staticClass:"change-time"},[t._v(t._s(t.$formatDate(e.ctime,"yyyy-MM-dd hh:mm:ss")))])]),s("a",{staticClass:"usre-avatar fl",attrs:{href:"javascript:;",target:"_blank"}},[s("el-image",{staticStyle:{width:"30px",height:"30px","border-radius":"50%","margin-right":"10px",cursor:"pointer"},attrs:{src:t.$IMG_URL+e.userImgUrl,fit:"contain"}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])]),s("span",{staticClass:"author"},[t._v(t._s(e.nickName))])],1)]),s("div",{staticClass:"price"},[s("strong",[t._v(t._s(e.viewcount))]),t._v("浏览\n          "),s("strong",[t._v(t._s(e.replycount))]),t._v("回复\n        ")])])}),0),s("div",{staticClass:"page"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:4}},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addBlock}},[t._v("发表")])],1),s("el-col",{attrs:{span:16}},[0!=t.count?s("el-pagination",{attrs:{background:"",layout:"prev,pager,next,jumper","page-size":t.limit,total:t.count},on:{"current-change":t.handleCurrentChange}}):s("div",{staticClass:"noDate"},[t._v("暂无数据")])],1)],1)],1)]),s("div",{staticClass:"scroll-top-btn"},[s("ul",[s("li",{on:{click:t.goTop}},[t._m(0),s("span",[t._v("top")])]),s("li",{on:{click:t.addBlock}},[s("em",[t._v("快速")]),s("em",[t._v("发贴")])])])]),s("show-add",{attrs:{show:t.isShowAdd,id:t.id},on:{cancel:t.cancel}})],1)},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"iconbtn"},[s("i",{staticClass:"el-icon-arrow-up"})])}],p=s("2f62"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{visible:t.isShowAdd,title:"发表贴子",center:"","before-close":t.cancel}},[s("div",{staticClass:"editor-container"},[s("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"标题"}},[s("el-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),s("ueditor",{ref:"ue",attrs:{defaultMsg:t.defaultMsg,config:t.config}}),s("el-button",{staticClass:"add",attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.save("form")}}},[t._v("发表贴子")])],1)])],1)},h=[],m=s("b676"),v=s("24a3"),b={props:["show"],components:{ueditor:m["a"]},computed:Object(o["a"])({},Object(p["b"])({isShowAdd:"isShowAdd"})),data:function(){return{form:{},defaultMsg:"",title:"",config:{toolbars:[["undo","redo","removeformat","formatmatch","|","paragraph","fontsize","|","bold","italic","underline","|","insertorderedlist","insertunorderedlist","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","simpleupload","horizontal","|"]],insertorderedlist:{decimal:"1,2,3...","lower-alpha":"a,b,c...","lower-roman":"i,ii,iii...","upper-alpha":"A,B,C...","upper-roman":"I,II,III..."},insertunorderedlist:{circle:"○ 大圓圈",disc:"● 小黑點",square:"■ 小方塊 ",dash:"— 破折號"},paragraph:{h2:"标题 1",h3:"标题 2",h4:"标题 3"},fontsize:[14,16,18,20,24]},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}]}}},methods:{cancel:function(){this.$emit("cancel",!1)},save:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var s={sid:parseInt(e.$route.params.id),title:e.title,content:e.$refs.ue.getUEContent()};e.add(s)}})},add:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v["a"](e).then(function(t){console.log(t),0==t.code&&(s.$emit("cancel",!1),s.title="",s.defaultMsg="",s.$refs.ue.setContent(""))});case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}},y=b,_=(s("3e4a"),s("2877")),C=Object(_["a"])(y,g,h,!1,null,"2dca9235",null),k=C.exports,w={name:"blockList",props:["list","count","sectionid"],data:function(){return{id:"",page:1,limit:80,orderbytype:1,isShowAdd:!1}},components:{showAdd:k},computed:{islogin:{get:function(){return!!this.$store.state.token},set:function(){}}},methods:{goTop:function(){document.body.scrollTop=document.documentElement.scrollTop=0},init:function(){},handleCurrentChange:function(t){console.log(t),document.body.scrollTop=document.documentElement.scrollTop=0,this.$emit("getPage",t)},cancel:function(t){this.$store.dispatch("getIsShowAdd",t),this.$emit("getPage",1)},addBlock:function(){this.islogin?(this.id=this.$route.params.id,this.$store.dispatch("getIsShowAdd",!0),this.$refs.boardBox.scrollTop=0):this.$message({message:"用户未登录",type:"error"})}},mounted:function(){},created:function(){}},x=w,j=(s("14b7"),Object(_["a"])(x,d,f,!1,null,"645c068a",null)),$=j.exports,S={name:"displayBlock",components:{blockList:$},data:function(){return{isessence:!1,orderbytype:4,page:1,limit:80,sectionid:"",blockList:{},blockTop:{},count:0,section:{}}},computed:Object(o["a"])({},Object(p["b"])({isShowAdd:"isShowAdd"}),{islogin:{get:function(){return!!this.$store.state.token},set:function(){}}}),methods:{getPage:function(t){this.page=t,this.getBlockList()},toggleTab:function(t){this.isessence=t,this.page=1,this.getBlockList()},toggleSort:function(t){this.orderbytype=t,this.page=1,this.getBlockList()},openDialog:function(){console.log(this.islogin),this.islogin?this.$store.dispatch("getIsShowAdd",!0):this.$message({message:"用户未登录",type:"error"})},getBlockList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"]({page:this.page,limit:this.limit,orderbytype:this.orderbytype,isessence:this.isessence,sectionid:this.sectionid}).then(function(t){var s=t.data;0==t.code&&(e.blockList=s,e.count=t.count)});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getBlockTop:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,l["b"](e).then(function(t){var e=t.data;if(0==t.code){s.blockTop=e;var i=[];i.push({url:s.$route.path,name:s.blockTop.name}),sessionStorage.setItem("navList",JSON.stringify(i)),console.log(JSON.parse(sessionStorage.getItem("navList")))}});case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){},getSection:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["b"]().then(function(t){var s=t.data;0==t.code&&(e.section=s)});case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){},created:function(){sessionStorage.removeItem("navList"),this.sectionid=this.$route.params.id,this.getSection(),this.getBlockList(),this.getBlockTop(this.$route.params.id)}},O=S,L=(s("6a0f"),Object(_["a"])(O,a,r,!1,null,"a18d5c5c",null)),T=L.exports,I={name:"display",components:{displayBlock:T,blockList:$}},B=I,A=Object(_["a"])(B,i,n,!1,null,null,null);e["default"]=A.exports},bf90:function(t,e,s){var i=s("36c3"),n=s("bf0b").f;s("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return n(i(t),e)}})},ce7e:function(t,e,s){var i=s("63b6"),n=s("584a"),a=s("294c");t.exports=function(t,e){var s=(n.Object||{})[t]||Object[t],r={};r[t]=e(s),i(i.S+i.F*a(function(){s(1)}),"Object",r)}},cebc:function(t,e,s){"use strict";var i=s("268f"),n=s.n(i),a=s("e265"),r=s.n(a),c=s("a4bb"),o=s.n(c),l=s("85f2"),u=s.n(l);function d(t,e,s){return e in t?u()(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},i=o()(s);"function"===typeof r.a&&(i=i.concat(r()(s).filter(function(t){return n()(s,t).enumerable}))),i.forEach(function(e){d(t,e,s[e])})}return t}s.d(e,"a",function(){return f})},e265:function(t,e,s){t.exports=s("ed33")},ed33:function(t,e,s){s("014b"),t.exports=s("584a").Object.getOwnPropertySymbols},fde4:function(t,e,s){s("bf90");var i=s("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}}}]);