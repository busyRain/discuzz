(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a6d973a"],{"0f0e":function(e,t,r){"use strict";var o=r("8fd5"),s=r.n(o);s.a},"6d31":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.status,expression:"loading.status"}],staticClass:"bg-wrap",attrs:{"element-loading-text":e.loading.msg,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.6)"}},[r("div",{staticClass:"con-wrap"},[r("div",{staticClass:"con-inner"},[r("div",{staticClass:"left"},[r("p",{staticClass:"title"},[e._v("会员注册")]),r("ul",{staticClass:"tab"},[r("li",{staticClass:"cursor",class:1==e.tab?"active":"",on:{click:function(t){return e.changeTab(1)}}},[e._v("通过短信注册")]),r("li",{staticClass:"cursor",class:2==e.tab?"active":"",on:{click:function(t){return e.changeTab(2)}}},[e._v("通过邮箱注册")])]),1==e.tab?r("div",{staticClass:"tab1"},[r("el-form",{ref:"formMobile",staticClass:"form-login",attrs:{model:e.formMobile,rules:e.rulesMobile}},[r("el-form-item",{attrs:{prop:"userPhone"}},[r("div",{staticClass:"form-input input-phone"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formMobile.userPhone,expression:"formMobile.userPhone"}],attrs:{type:"tel",maxlength:"11",placeholder:"请输入的你的手机号码"},domProps:{value:e.formMobile.userPhone},on:{input:function(t){t.target.composing||e.$set(e.formMobile,"userPhone",t.target.value)}}})])]),r("el-form-item",{attrs:{prop:"vCode"}},[r("div",{staticClass:"form-input  input-code"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formMobile.vCode,expression:"formMobile.vCode"}],staticClass:"code-input",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.formMobile.vCode},on:{input:function(t){t.target.composing||e.$set(e.formMobile,"vCode",t.target.value)}}}),r("div",{staticClass:"get-code cursor",on:{click:e.sendMobileMessage}},[r("span",{domProps:{textContent:e._s(e.formMobile.counter.text)}})])])]),r("el-form-item",{attrs:{prop:"passWord"}},[r("div",{staticClass:"form-input input-password"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formMobile.passWord,expression:"formMobile.passWord"}],attrs:{type:"password",placeholder:"密码(6-20位字母与字母或符号组成)"},domProps:{value:e.formMobile.passWord},on:{input:function(t){t.target.composing||e.$set(e.formMobile,"passWord",t.target.value)}}})])]),r("el-form-item",{attrs:{prop:"surePassword"}},[r("div",{staticClass:"form-input input-password"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formMobile.surePassword,expression:"formMobile.surePassword"}],attrs:{type:"password",placeholder:"请重复密码"},domProps:{value:e.formMobile.surePassword},on:{input:function(t){t.target.composing||e.$set(e.formMobile,"surePassword",t.target.value)}}})])])],1)],1):e._e(),2==e.tab?r("div",{staticClass:"tab1"},[r("el-form",{ref:"formEmail",staticClass:"form-login",attrs:{model:e.formEmail,rules:e.rulesEmail}},[r("el-form-item",{attrs:{prop:"userEmail","inline-message":"true"}},[r("div",{staticClass:"form-input input-email"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmail.userEmail,expression:"formEmail.userEmail"}],attrs:{type:"email",placeholder:"请输入的你的邮箱"},domProps:{value:e.formEmail.userEmail},on:{input:function(t){t.target.composing||e.$set(e.formEmail,"userEmail",t.target.value)}}})])]),r("el-form-item",{attrs:{prop:"emailCode","inline-message":"true"}},[r("div",{staticClass:"form-input input-code"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmail.emailCode,expression:"formEmail.emailCode"}],attrs:{type:"text",placeholder:"输入邮箱验证码"},domProps:{value:e.formEmail.emailCode},on:{input:function(t){t.target.composing||e.$set(e.formEmail,"emailCode",t.target.value)}}}),r("div",{staticClass:"get-code cursor",on:{click:e.sendEmailMessage}},[r("span",{domProps:{textContent:e._s(e.formEmail.counter.text)}})])])]),r("el-form-item",{attrs:{prop:"passWord","inline-message":"true"}},[r("div",{staticClass:"form-input input-password"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmail.passWord,expression:"formEmail.passWord"}],attrs:{type:"password",placeholder:"密码(6-20位字母与字母或符号组成)"},domProps:{value:e.formEmail.passWord},on:{input:function(t){t.target.composing||e.$set(e.formEmail,"passWord",t.target.value)}}})])]),r("el-form-item",{attrs:{prop:"surePassword","inline-message":"true"}},[r("div",{staticClass:"form-input input-password"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmail.surePassword,expression:"formEmail.surePassword"}],attrs:{type:"password",placeholder:"请重复密码"},domProps:{value:e.formEmail.surePassword},on:{input:function(t){t.target.composing||e.$set(e.formEmail,"surePassword",t.target.value)}}})])])],1)],1):e._e(),r("div",{staticClass:"login-btn cursor",on:{click:e.register}},[e._v("确认注册")]),r("div",{staticClass:"already"},[e._v("\n\t\t\t\t\t已有账号？\n\t\t\t\t\t"),r("span",{staticClass:"cursor",on:{click:function(t){return e.$router.push("/login")}}},[e._v("马上登录")])])]),e._m(0)])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right"},[r("div",{staticClass:"other-login"},[r("div",{staticClass:"left-line"}),r("div",[e._v("其他登录方式")]),r("div",{staticClass:"right-line"})]),r("div",{staticClass:"other-icon"},[r("div",{staticClass:"qq cursor"},[r("span",{staticClass:"iconfont icon-qq1"})]),r("div",{staticClass:"qq cursor"},[r("span",{staticClass:"iconfont icon-weixin1"})]),r("div",{staticClass:"qq cursor"},[r("span",{staticClass:"iconfont icon-weibo1"})])]),r("div",{staticClass:"qr"}),r("div",{staticClass:"ewm"},[e._v("扫码下载APP")])])}],a=(r("c5f6"),r("96cf"),r("3b8d")),i=r("7ded"),n={name:"login",data:function(){var e=this;return{loading:{status:!1,msg:"正在提交注册信息~"},checked:!1,tab:1,formMobile:{userPhone:"",passWord:"",surePassword:"",vCode:"",counter:{text:"发送手机验证码",seconds:120,func:null}},formEmail:{userEmail:"",passWord:"",surePassword:"",emailCode:"",counter:{text:"发送邮箱验证码",seconds:120,func:null}},rulesMobile:{userPhone:[{validator:function(e,t,r){return t?/^(13[0-9]|14[0-9]|15[0-9]|17[0-9]|18[0-9]|19[0-9]|16[0-9])\d{8}$/.test(t)?void(r&&r()):r(new Error("请输入正确的手机号")):r(new Error("请输入手机号"))},trigger:"blur"}],passWord:[{validator:function(t,r,o){if(!r)return o(new Error("请输入密码"));r.length<6||r.length>20?o(new Error("6-20位字母与字母或符号组成")):""!==r&&e.$refs.formMobile.validateField("surePassword"),o&&o()},trigger:"blur"}],surePassword:[{validator:function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.formMobile.passWord?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],vCode:[{validator:function(e,t,r){""===t&&r(new Error("请短信验证码")),r&&r()},trigger:"blur"}]},rulesEmail:{userEmail:[{validator:function(e,t,r){return t?/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(t)?void(r&&r()):r(new Error("请输入正确的邮箱")):r(new Error("请输入邮箱"))},trigger:"blur"}],passWord:[{validator:function(t,r,o){if(!r)return o(new Error("请输入密码"));r.length<6||r.length>20?o(new Error("6-20位字母与字母或符号组成")):""!==r&&e.$refs.formEmail.validateField("surePassword"),o&&o()},trigger:"blur"}],surePassword:[{validator:function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.formEmail.passWord?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],emailCode:[{validator:function(e,t,r){""===t&&r(new Error("请邮箱验证码")),r&&r()},trigger:"blur"}]}}},methods:{sendPhoneCode:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=this,e.next=3,i["d"](t).then(function(e){0==e.code&&r.$alert("手机验证码发送成功",{confirmButtonText:"确定",callback:function(e){r.loading.status=!1,r.formMobile.counter.func=setInterval(function(){0==r.formMobile.counter.seconds?(clearInterval(r.formMobile.counter.func),r.formMobile.counter.text="重新发送验证码",r.formMobile.counter.seconds=120):(r.formMobile.counter.text="重新发送验证码("+r.formMobile.counter.seconds+")",r.formMobile.counter.seconds--)},1e3)}})});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),sendMobileMessage:function(){var e=this;0!=e.formMobile.counter.seconds&&120!=e.formMobile.counter.seconds||e.$refs.formMobile.validateField("userPhone",function(t){t||(e.loading.status=!0,e.loading.msg="正在发送手机验证码~",e.sendPhoneCode({userPhone:e.formMobile.userPhone}))})},sendEmalCode:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["c"](t).then(function(e){0==e.code&&that.$alert("邮箱验证码发送成功",{confirmButtonText:"确定",callback:function(e){that.loading.status=!1,that.formEmail.counter.func=setInterval(function(){0==that.formEmail.counter.seconds?(clearInterval(that.formEmail.counter.func),that.formEmail.counter.text="重新发送验证码",that.formEmail.counter.seconds=120):(that.formEmail.counter.text="重新发送验证码("+that.formEmail.counter.seconds+")",that.formEmail.counter.seconds--)},1e3)}})});case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),sendEmailMessage:function(){var e=this;0!=e.formEmail.counter.seconds&&120!=e.formEmail.counter.seconds||e.$refs.formEmail.validateField("userEmail",function(t){t||(e.loading.status=!0,e.loading.msg="正在发送邮箱验证码~",e.sendEmalCode({userEmail:e.formEmail.userEmail}))})},onSuccess:function(e,t){var r=this;if(console.log(t),0==t.code){var o={token:t.data,loginName:1==e?this.formMobile.userPhone:this.formEmail.userEmail};r.$setCookie("uInfo",JSON.stringify(o)),r.$message({message:t.msg,type:"success",duration:3e3,onClose:function(){r.$router.back()}})}else{var s="";s=200==t.status?t.msg:t.message,r.$message({message:s,type:"error",duration:3e3})}},sendUserMobile:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=this,e.next=3,i["f"](t).then(function(e){r.loading.status=!1,r.onSuccess(1,e)},function(e){r.loading.status=!1,r.$alert(e.response.message,{confirmButtonText:"确定"})});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),sendUserEmail:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=this,e.next=3,i["e"](t).then(function(e){r.loading.status=!1,r.onSuccess(2,e)},function(e){r.loading.status=!1,r.$alert(e.response.message,{confirmButtonText:"确定"})});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),register:function(){var e=this;1==this.tab?this.$refs.formMobile.validate(function(t){if(!t)return!1;e.loading.status=!0,e.loading.msg="正在提交注册信息~",e.sendUserMobile({userPhone:e.formMobile.userPhone,passWord:e.formMobile.passWord,vCode:Number(e.formMobile.vCode)})}):2==this.tab&&this.$refs.formEmail.validate(function(t){if(!t)return!1;e.loading.status=!0,e.loading.msg="正在提交注册信息~",e.sendUserEmail({userEmail:e.formEmail.userEmail,passWord:e.formEmail.passWord,vCode:e.formEmail.emailCode})})},changeTab:function(e){var t=this;this.tab=e,1==this.tab?(this.formMobile.userPhone="",this.formMobile.passWord="",this.formMobile.surePassword="",this.formMobile.vCode="",setTimeout(function(){t.$refs.formMobile.resetFields()},10)):(this.formEmail.userEmail="",this.formEmail.passWord="",this.formEmail.surePassword="",this.formEmail.emailCode="",setTimeout(function(){t.$refs.formEmail.resetFields()},10))}}},l=n,u=(r("0f0e"),r("2877")),c=Object(u["a"])(l,o,s,!1,null,"c3fda2a0",null);t["default"]=c.exports},"7ded":function(e,t,r){"use strict";r.d(t,"g",function(){return s}),r.d(t,"d",function(){return a}),r.d(t,"c",function(){return i}),r.d(t,"f",function(){return n}),r.d(t,"e",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return c});var o=r("b775");function s(e){return Object(o["a"])("/users/login",{method:"post",data:e})}function a(e){return Object(o["a"])("users/sendPhoneVerificationCode",{method:"post",data:e})}function i(e){return Object(o["a"])("users/sendEmailVerificationCode",{method:"post",data:e})}function n(e){return Object(o["a"])("/users/register/mobile",{method:"post",data:e})}function l(e){return Object(o["a"])("/users/register/email",{method:"post",data:e})}function u(e){return Object(o["a"])("/users/forgetPassWord",{method:"post",data:e})}function c(e){return Object(o["a"])("/users/forgetPassWordFromEmail",{method:"post",data:e})}},"8fd5":function(e,t,r){},aa77:function(e,t,r){var o=r("5ca1"),s=r("be13"),a=r("79e5"),i=r("fdef"),n="["+i+"]",l="​",u=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),m=function(e,t,r){var s={},n=a(function(){return!!i[e]()||l[e]()!=l}),u=s[e]=n?t(d):i[e];r&&(s[r]=u),o(o.P+o.F*n,"String",s)},d=m.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=m},c5f6:function(e,t,r){"use strict";var o=r("7726"),s=r("69a8"),a=r("2d95"),i=r("5dbc"),n=r("6a99"),l=r("79e5"),u=r("9093").f,c=r("11e9").f,m=r("86cc").f,d=r("aa77").trim,f="Number",p=o[f],v=p,g=p.prototype,h=a(r("2aeb")(g))==f,b="trim"in String.prototype,E=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():d(t,3);var r,o,s,a=t.charCodeAt(0);if(43===a||45===a){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:o=2,s=49;break;case 79:case 111:o=8,s=55;break;default:return+t}for(var i,l=t.slice(2),u=0,c=l.length;u<c;u++)if(i=l.charCodeAt(u),i<48||i>s)return NaN;return parseInt(l,o)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(h?l(function(){g.valueOf.call(r)}):a(r)!=f)?i(new v(E(t)),r,p):E(t)};for(var w,C=r("9e1e")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;C.length>M;M++)s(v,w=C[M])&&!s(p,w)&&m(p,w,c(v,w));p.prototype=g,g.constructor=p,r("2aba")(o,f,p)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);